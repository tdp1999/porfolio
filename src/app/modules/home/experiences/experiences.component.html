<div
    class="flex flex-col items-center justify-center h-full gap-20 p-20 theme--bg-secondary"
>
    <h2 class="">Experiences</h2>

    <div class="grid max-w-screen-lg grid-cols-4 gap-12 auto-rows-auto">
        <ng-container
            *ngFor="
                let experience of experiences;
                let first = first;
                let last = last
            "
        >
            <app-experience-item
                [ngClass]="[first ? 'col-start-2' : 'col-span-1']"
                class="col-span-2"
                (actionClick)="handleActionClick(experience)"
                [data]="experience"
            ></app-experience-item>
        </ng-container>
    </div>
</div>

<ng-template #detail let-d>
    <h3>{{ d.company }}</h3>

    <div>
        Position: {{ d.position }} /
        {{ d.startDate | date : monthYearFormat }} -
        {{ (d.endDate | date : monthYearFormat) ?? "Current" }}
    </div>

    <div>Location: {{ d.location }}</div>

    <mat-accordion multi togglePosition="before" class="exclude-animation">
        <mat-expansion-panel
            class="theme--bg theme--text"
            [expanded]="step === 0"
            (opened)="setStep(0)"
        >
            <mat-expansion-panel-header>
                <mat-panel-title class="font-bold theme--text">
                    Personal data
                </mat-panel-title>
            </mat-expansion-panel-header>

            Hello world
        </mat-expansion-panel>

        <mat-expansion-panel
            class="theme--bg theme--text"
            [expanded]="step === 1"
            (opened)="setStep(1)"
        >
            <mat-expansion-panel-header class="">
                <mat-panel-title class="font-bold theme--text">
                    Destination
                </mat-panel-title>
            </mat-expansion-panel-header>

            Hello world
        </mat-expansion-panel>

        <mat-expansion-panel
            class="theme--bg theme--text"
            [expanded]="step === 2"
            (opened)="setStep(2)"
        >
            <mat-expansion-panel-header class="">
                <mat-panel-title class="font-bold theme--text">
                    Day of the trip
                </mat-panel-title>
            </mat-expansion-panel-header>

            Hello world
        </mat-expansion-panel>
    </mat-accordion>
</ng-template>
