<div
    class="flex flex-col items-center justify-center h-full gap-8 px-10 py-8 md:gap-12 xl:gap-20 sm:px-12 md:px-20 md:py-12 xl:py-20 theme--bg-secondary"
>
    <h2 class="">Experiences</h2>

    <!-- <div class="grid max-w-screen-lg grid-cols-4 gap-12 auto-rows-auto">
        <ng-container
            *ngFor="
                let experience of experiences;
                let first = first;
                let last = last
            "
        >
            <app-experience-item
                [ngClass]="[first ? 'col-start-2' : 'col-span-1']"
                class="col-span-2"
                (actionClick)="handleActionClick(experience)"
                [data]="experience"
            ></app-experience-item>
        </ng-container>
    </div> -->

    <app-timeline
        [milestones]="milestones"
        [contentTemplate]="detail"
        [defaultPoint]="milestones.length - 1"
        class="w-full max-w-screen-lg"
    ></app-timeline>
</div>

<ng-template #detail let-d>
    <h3>{{ d.company | uppercase }}</h3>

    <p class="mt-2 subtitle">
        {{ d.position }} / {{ d.startDate | date : monthYearFormat }} -
        {{ (d.endDate | date : monthYearFormat) ?? "Current" }}
    </p>

    <p class="mt-2 subtitle">{{ d.location }}</p>

    <p class="mt-3">
        {{ d.description }}
    </p>

    <div class="mt-3">
        <p class="list-title">Responsibilities:</p>
        <ul class="mt-2">
            <li
                *ngFor="let responsibility of d.responsibilities.slice(0, 4)"
                [innerHTML]="responsibility"
            ></li>
            <li *ngIf="d.responsibilities.length > 4">...</li>
        </ul>
    </div>

    <div class="mt-3">
        <p class="list-title">Achievements:</p>
        <ul class="mt-2">
            <li
                *ngFor="let achieve of d.achievements"
                [innerHTML]="achieve"
            ></li>
        </ul>
    </div>

    <button class="mt-3 link-primary" (click)="openMetadataDialog(d)">
        See more
    </button>
</ng-template>
